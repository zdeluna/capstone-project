<div class ="row">
  <div class="col-lg-12 header">
    <h1 style="display: inline">Create Challenge</h1>
    <button mat-stroked-button (click)="goBack()"> Back </button>
  </div>
</div>

<div class="row">
  <div class="col-12">
    <mat-card>
      <mat-card-content>
        <form [formGroup]="form" (ngSubmit)="submitForm()">
          <div class="form-element">
            <h3 class="form-element-header">Activity</h3>
            <mat-radio-group (change)="checkForActivity()" class="radio-buttons" formControlName="activity">
              <mat-radio-button value="walking">Walking</mat-radio-button>
              <mat-radio-button value="running">Running</mat-radio-button>
              <mat-radio-button value="biking">Biking</mat-radio-button>
              <mat-radio-button value="swimming">Swimming</mat-radio-button>
              <mat-radio-button value="weight">Weight</mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="form-element">
            <h3 class="form-element-header">Measurement</h3>
            <mat-form-field class="full-width">
              <mat-select placeholder="Measurement" (selectionChange)="checkForMeasurement()" formControlName="measurement">
                <div *ngFor="let m of measurements">
                  <mat-option *ngIf="validMeasurementForActivity(form.value.activity, m.activities)" [value]="m.view"> {{m.view}} </mat-option>
                </div>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="form-element">
            <h3 class="form-element-header">Duration</h3>
            <mat-radio-group class="radio-buttons" (change)="checkForDuration()" formControlName="duration">
              <mat-radio-button value="weekend">Weekend</mat-radio-button>
              <mat-radio-button value="work-week">Work Week</mat-radio-button>
              <mat-radio-button value="full-week">Full Week</mat-radio-button>
              <mat-radio-button value="month">Month</mat-radio-button>
              <mat-radio-button value="year">Year</mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="form-element">
            <h3 class="form-element-header">Start Date</h3>
            <mat-form-field>
              <input matInput [matDatepickerFilter]="myFilter" [min]="minDate" [matDatepicker]="picker" formControlName="startDate" placeholder="Choose a date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="form-element">
            <h3 class="form-element-header">Invite Participants</h3>
            <mat-form-field class="full-width">
              <input matInput placeholder="Search for users" type="text" formControlName="invitees">
            </mat-form-field>
          </div>
          <button mat-stroked-button style="margin-right: 5px" class="btn btn-success" type="Submit" [disabled]="!form.valid"> Create </button>
          <button mat-stroked-button class="btn btn-light" [disabled]="formIsEmpty()" (click)="clear()"> Clear </button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>